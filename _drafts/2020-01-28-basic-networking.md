---
title: Networking - Basic concepts
date: 2018-04-20 00:00:00 +01:00
header:
  teaser: "/assets/images/academy/networking.png"
  image: "/assets/images/academy/networking.png"
categories:
- academy
tags:
- academy
- networking
excerpt: "Basic concepts for a Sysadmin."
toc: true
toc_hmax: 5
---

> Related with: [Networking]({{ site.baseurl }}{% post_url /academy/2018-05-18-networking %})

##### heartbeat
In computer science, a heartbeat is a periodic signal generated by hardware or software to indicate normal operation or to synchronise other parts of a computer system. Usually, a heartbeat is sent between machines at a regular interval in the order of seconds. If the endpoint does not receive a heartbeat for a time —usually a few heartbeat intervals—, the machine that should have sent the heartbeat is assumed to have failed.

##### watchdog
A watchdog timer is an electronic timer that is used to detect and recover from computer malfunctions. During normal operation, the computer regularly resets the watchdog timer to prevent it from elapsing, or "timing out". If due to a hardware fault or program error, the computer fails to reset the watchdog, the timer will elapse and generate a timeout signal. The timeout signal is used to initiate corrective action or actions. The corrective actions typically include placing the computer system in a safe state and restoring normal system operation.

##### keepalive
A keepalive signal is often sent at predefined intervals, and plays an important role on the Internet. After a signal is sent, if no reply is received the link is assumed to be down and future data will be routed via another path until the link is up again. A keepalive signal can also be used to indicate to Internet infrastructure that the connection should be preserved.

#### Websockets

The WebSocket protocol allows for a persistent TCP connection between server and client (browser), facilitating exchange data at real time, with lower overhead.
This is made possible by providing a standardised way for the server to send content to the client without being first requested and allowing for messages to be passed back and forth while keeping the connection open.

* It's a different TCP protocol from HTTP, designed to work over HTTP ports 80/443 thus **compatible with the HTTP** protocol, since the WebSocket handshake uses the HTTP Upgrade header to change from the HTTP protocol.
* Unlike HTTP, WebSocket provides **full-duplex** communication. Additionally, enables streams of messages on top of TCP.
* The WebSocket protocol specification defines **ws** (WebSocket) and wss (WebSocket Secure) as two new URI schemes that are used for unencrypted and encrypted connections

Before WebSocket, port 80 full-duplex communication was attainable using Comet channels, however Comet implementation is nontrivial and  inefficient for small messages. The WebSocket protocol aims to solve these problems without compromising security assumptions of the web.

* https://www.infoq.com/articles/Web-Sockets-Proxy-Servers

## SCTP

SCTP [10] is similar to TCP in that it provides reliable stream-based transport. However, it has some advantages over TCP transport for a message-based protocol. First, it has built-in message segmentation, so that individual messages are separated at the transport layer. Another advantage is that SCTP avoids the head-of-line blocking problem of TCP. This is a TCP problem in which a dropped segment with a large window causes the entire window’s worth of messages to wait in a buffer (that is, be blocked) until the dropped segment is retransmitted.

SCTP also supports multihoming, so if one of a pair of load balancing servers fails, the other can immediately begin receiving the messages without even requiring a DNS or other database lookup.

As a transport protocol, SCTP requires operating system level support to be used, which will initially delay its use in the Internet. Also, the use of new transports on the Internet is severely limited by their support in middle boxes such as NAT. Also, note that the advantages of SCTP over TCP only occur during packet loss. In a zero-loss network, the performance of the two is identical. SCTP is not commonly supported in Internet hosts today, but it is being used in WebRTC.

**SCTP** (Stream Control Transmission Protocol) is a transport-layer protocol, serving in a similar role to the popular protocols TCP and UDP. It is standardised by IETF in RFC 4960..

SCTP is a message-oriented, reliable protocol that combines the best features of UDP and TCP.
* UDP: Message-oriented, Unreliable;
* TCP: Byte-oriented, Reliable.

SCTP ensures reliable, in-sequence transport of messages with congestion control like TCP; it differs from these in providing multi-homing and redundant paths in order to increase resilience and reliability. Other innovative features
Association, Data transfer/Delivery, Fragmentation, Error/Congestion Control.

SCTP places messages and control information into separate chunks (data chunks and control chunks), each identified by a chunk header. The protocol can fragment a message into a number of data chunks, but each data chunk contains data from only one user message. SCTP bundles the chunks into SCTP packets. The SCTP packet, which is submitted to the Internet Protocol, consists of a packet header, SCTP control chunks (when necessary), followed by SCTP data chunks (when available).

* To distinguish between different data chunks belonging to the same stream, SCTP uses SSNs.
* To distinguish between different streams, SCTP uses an SI.
* A connection in SCTP is called an association and can involve multiple streams. Association identifier: verification tag, one for each direction.
* Data chunks are identified by three identifiers: TSN, SI, and SSN.
  * TSN is a cumulative number identifying the association;
  * SI defines the stream;
  * SSN (Stream Sequence Number) defines the chunk in a stream.

**Multi homing**

SCTP provides redundant paths to increase reliability. Each SCTP end point needs to check reachability of the primary and redundant addresses of the remote end point using a heartbeat. Each SCTP end point needs to ack the heartbeats it receives from the remote end point.
When SCTP sends a message to a remote address, the source interface will only be decided by the routeing table of the host (and not by SCTP).


##### DCCP  

DCCP [11] is another new transport protocol that tries to provide congestion and flow control similar to TCP but without the reliability or in-order delivery of TCP. It shows some promise for use as a real-time transport. However, its support is very limited today, and limited NAT support will delay its adoption.
